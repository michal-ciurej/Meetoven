<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script src="script.js"></script>

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script>
      window.onload = function () {
    document
      .querySelector(".say-hi-button")
      .addEventListener("click", function () {
        console.log("click")
        window.location.href="tel:0044 7795522340";
      });

  };

  AFRAME.registerComponent('markerhandler', {
  init: function () {
  this.el.sceneEl.addEventListener('markerFound', () => {
    console.log("doesthiscall");

    document.getElementById("bro").style.visibility = "hidden";
  })
  this.el.sceneEl.addEventListener('markerLost', () => {
    console.log("call2");

    document.getElementById("bro").style.visibility = "visible";
  })
  }
  });
    </script>

    <style>
      .guide {
    position: absolute;
    bottom: 0%;
    left: 0%;
    width: 100%;
    height: 100%;
    margin: auto;
    display: flex;
    flex-shrink: 100%;
    flex-shrink: 100%;
    justify-content: center;
    align-items: center;
    z-index: 10;
  }

  .title{
  font-family: 'Castoro', serif;
  font-size: 5vw;
  color: whitesmoke;
  margin-top: 10vw;
  margin-left: 5%;
  margin-right: 5%;
  }

  .subtitle{
  font-family: 'Castoro', serif;
  font-size: 3vw;
  color: whitesmoke;
  margin-left: 5%;
  margin-right: 5%;
  }
  
  .img {
    
    position: absolute;
    max-width:80%;
    max-height:80%;       
  }

  .textguide {
    position: absolute;
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
    justify-content: space-around;
    align-items: center;
    top: 70%;
    bottom: 0%;
    left: 0%;
    right: 0%;
    width: 90%;
    height: 25%;
    margin: auto;
    flex-shrink: 100%;
    flex-shrink: 100%;
    border-radius: 10%;
    background-color: #262626;
        }

  .say-hi-button {
    border-radius: 100%;
    border: none;
    background: linear-gradient(to bottom, #ff9933, #ff9966 );
    width: 15vw;
    height: 15vw;
    transform: scale(1);
    }

    #callme{
      transform: scale(1);
    }

    #callme:active{
      transform: scale(0.95);
    }

    </style>
  </head>
  

    <body style="margin : 0px; overflow: hidden;">
      
      <div id="bro" class="guide">
          <img class="img" src="graphic\pattern-M-transparent.png">
      </div>

      <div class="textguide">
        <div class="title">
        The Jobseeking Web Designer
        </div>
        <div class="subtitle">
        Michael Ciurej; 2020
          </div>
        <div class="subtitle">
        3D Photogrammetry on Augmented Reality
        </div>

        <div class="buttons">
          <button class="say-hi-button" id="callme" ><i class="fa fa-phone" style="font-size: 9vw; color: whitesmoke;"></i></button>
        </div>

    </div>


      <a-scene vr-mode-ui="enabled: false" arjs='trackingMethod: best; sourceType: webcam; debugUIEnabled: false;'>
  
  
        <a-marker markerhandler type='pattern' url='Marker\M.patt' > 
          

          <a-entity gltf-model="Model\Meetoven.glb" scale="0.15 0.15 0.15" position="0 0 1" rotation="-90 0 0" animation-mixer></a-entity>
          

        
        </a-marker>
  
          <a-entity camera></a-entity>
      </a-scene>
      
    </body>
</html>
